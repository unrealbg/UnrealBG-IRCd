services {
    persistence {
        # Coalesce frequent updates into periodic saves.
        # Set to 0 to save on every mutation.
        saveIntervalSeconds = 5;

        # Keep last K backups as .bak.N files (0 disables).
        backupCount = 3;

        # Recover from leftover .tmp file on startup.
        recoverTmpOnStartup = true;

        # Cross-process lock timeout for persistence writes.
        lockTimeoutMs = 5000;
    };

    nickserv {
        accounts = "data/nickserv-accounts.json";
        enforce = true;
        delay = 30;
    };

    chanserv {
        channels = "data/chanserv-channels.json";
    };
};
